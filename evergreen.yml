buildvariants:
  - display_name: Amazon Linux 2
    name: amazon2
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Amazon Linux 2 arm64
    name: amazon2-arm64
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Amazon Linux 2023
    name: amazon2023
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Amazon Linux 2023 arm64
    name: amazon2023-arm64
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Debian 12
    name: debian12
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Amazon Linux 2
    name: enterprise-amazon2
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Amazon Linux 2 arm64
    name: enterprise-amazon2-arm64
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Amazon Linux 2023
    name: enterprise-amazon2023
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Amazon Linux 2023 arm64
    name: enterprise-amazon2023-arm64
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Debian 12
    name: enterprise-debian12-64
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise macOS
    name: enterprise-macos
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise macOS arm64
    name: enterprise-macos-arm64
    run_on:
      - ubuntu2204-small-arm64
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise RHEL 8
    name: enterprise-rhel-8-64-bit
    run_on:
      - rhel8.8-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - rhel8.8-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise RHEL 8 arm64
    name: enterprise-rhel-8-arm64
    run_on:
      - rhel8.8-arm64-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise RHEL 8.1 PPC64LE
    name: enterprise-rhel-81-ppc64le
    run_on:
      - rhel81-power8-small
    stepback: false
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - rhel81-power8-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise RHEL 8.3 s390x
    name: enterprise-rhel-83-s390x
    run_on:
      - rhel83-zseries-small
    stepback: false
    tags:
      - bazel_check
    tasks:
      - name: small_compile_test_and_package_serial_no_unittests_TG
        run_on:
          - rhel83-zseries-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise RHEL 9.3
    name: enterprise-rhel-93-64-bit
    run_on:
      - rhel93-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise RHEL 9.3 arm64
    name: enterprise-rhel-93-arm64
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - rhel93-arm64-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise SLES 15 (SP5)
    name: enterprise-suse15-64
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Ubuntu 20.04
    name: enterprise-ubuntu2004-64
    run_on:
      - ubuntu2004-small
    stepback: false
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2004-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Ubuntu 20.04 arm64
    name: enterprise-ubuntu2004-arm64
    run_on:
      - ubuntu2004-arm64
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2004-arm64-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Ubuntu 22.04
    name: enterprise-ubuntu2204-64
    run_on:
      - ubuntu2204-small
    stepback: false
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Ubuntu 22.04 arm64
    name: enterprise-ubuntu2204-arm64
    run_on:
      - ubuntu2204-arm64-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-arm64-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Ubuntu 24.04
    name: enterprise-ubuntu2404
    run_on:
      - ubuntu2404-small
    stepback: false
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2404-large
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Ubuntu 24.04 arm64
    name: enterprise-ubuntu2404-arm64
    run_on:
      - ubuntu2404-arm64-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Enterprise Windows Server 2022
    name: enterprise-windows
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - windows-2022-xxlarge
      - activate: true
        depends_on:
          - name: version_expansions_gen
            variant: generate-tasks-for-version
        name: crypt_create_lib
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - activate: true
        depends_on:
          - name: crypt_create_lib
        name: crypt_push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - activate: true
    display_name: Generate tasks for evergreen version
    name: generate-tasks-for-version
    run_on:
      - rhel8.8-medium
    tasks:
      - name: version_gen
        run_on:
          - ubuntu2004-medium
      - name: version_expansions_gen
  - display_name: macOS
    name: macos
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: macOS arm64
    name: macos-arm64
    run_on:
      - ubuntu2204-small-arm64
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: ' ! Release Process'
    name: release
    run_on:
      - rhel80
    tasks:
      - name: jira-asap
      - name: save-current-feeds
      - name: generate-feed-production-releases
      - name: validate-tag-exists
      - name: deploy-jira-tickets
      - name: generate-feed-cloud
      - name: validate-artifacts
      - name: cloud-is-ready
      - name: validate-buildinfo-rhel8-targeted
      - name: validate-buildinfo-rhel8-enterprise
      - distros:
          - macos-1014
        name: validate-buildinfo-osx-base
      - distros:
          - macos-1014
        name: validate-buildinfo-osx-enterprise
      - name: generate-feed-current
      - name: generate-feed-default
      - name: generate-feed-full
      - name: generate-feed-latest-releases
      - name: generate-feed-download-center
      - name: validate-feeds
      - name: post-release-tasks
  - display_name: RHEL 8 arm64
    name: rhel-8-arm64
    run_on:
      - rhel8.8-arm64-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: RHEL 8
    name: rhel8
    run_on:
      - rhel8.8-large
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - rhel8.8-large
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: RHEL 9.3
    name: rhel93
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: RHEL 9.3 arm64
    name: rhel93-arm64
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - rhel93-arm64-large
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: SUSE 15 (SP5)
    name: suse15
    run_on:
      - ubuntu2204-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Ubuntu 20.04
    name: ubuntu2004
    run_on:
      - ubuntu2004-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2004-large
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Ubuntu 20.04 arm64
    name: ubuntu2004-arm64
    run_on:
      - ubuntu2004-arm64-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2004-arm64-large
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Ubuntu 22.04
    name: ubuntu2204
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Ubuntu 22.04 arm64
    name: ubuntu2204-arm64
    run_on:
      - ubuntu2204-arm64-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-arm64-large
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Ubuntu 24.04
    name: ubuntu2404
    run_on:
      - ubuntu2404-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2404-large
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Ubuntu 24.04 arm64
    name: ubuntu2404-arm64
    run_on:
      - ubuntu2404-arm64-small
    tags:
      - bazel_check
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
          - name: cloud-is-ready
            variant: release
        name: publish_packages
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
  - display_name: Windows Server 2022
    name: windows
    run_on:
      - ubuntu2204-small
    tasks:
      - name: compile_and_archive_dist_test_then_package_TG
        run_on:
          - ubuntu2204-small
      - depends_on:
          - name: package
        name: push
        patchable: false
        run_on:
          - ubuntu2204-small
        stepback: false
task_groups:
  - max_hosts: 1
    name: small_compile_test_and_package_serial_no_unittests_TG
    tasks:
      - compile_dist_test_half
      - compile_dist_test
      - archive_dist_test
      - archive_dist_test_debug
      - package
  - max_hosts: 1
    name: compile_and_archive_dist_test_then_package_TG
    tasks:
      - package
tasks:
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    name: jira-asap
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    name: save-current-feeds
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: save-current-feeds
        variant: release
    name: generate-feed-production-releases
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: generate-feed-cloud
        variant: release
    name: deploy-jira-tickets
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-buildinfo-osx-enterprise
        variant: release
      - name: validate-buildinfo-osx-base
        variant: release
      - name: validate-buildinfo-rhel8-enterprise
        variant: release
      - name: validate-buildinfo-rhel8-targeted
        variant: release
      - name: push
        variant: rhel93-arm64
      - name: push
        variant: enterprise-ubuntu2204-arm64
      - name: crypt_push
        variant: enterprise-ubuntu2204-arm64
      - name: push
        variant: enterprise-suse15-64
      - name: crypt_push
        variant: enterprise-suse15-64
      - name: push
        variant: enterprise-macos-arm64
      - name: crypt_push
        variant: enterprise-macos-arm64
      - name: push
        variant: enterprise-ubuntu2404-arm64
      - name: crypt_push
        variant: enterprise-ubuntu2404-arm64
      - name: push
        variant: generate-tasks-for-version
      - name: push
        variant: enterprise-macos
      - name: crypt_push
        variant: enterprise-macos
      - name: push
        variant: rhel-8-arm64
      - name: push
        variant: rhel93
      - name: push
        variant: macos
      - name: push
        variant: windows
      - name: push
        variant: enterprise-windows
      - name: crypt_push
        variant: enterprise-windows
      - name: push
        variant: enterprise-amazon2
      - name: crypt_push
        variant: enterprise-amazon2
      - name: push
        variant: ubuntu2404-arm64
      - name: push
        variant: enterprise-ubuntu2404
      - name: crypt_push
        variant: enterprise-ubuntu2404
      - name: push
        variant: amazon2023
      - name: push
        variant: amazon2023-arm64
      - name: push
        variant: enterprise-ubuntu2004-64
      - name: crypt_push
        variant: enterprise-ubuntu2004-64
      - name: push
        variant: ubuntu2004
      - name: push
        variant: enterprise-amazon2023
      - name: crypt_push
        variant: enterprise-amazon2023
      - name: push
        variant: amazon2
      - name: push
        variant: enterprise-amazon2023-arm64
      - name: crypt_push
        variant: enterprise-amazon2023-arm64
      - name: push
        variant: enterprise-ubuntu2004-arm64
      - name: crypt_push
        variant: enterprise-ubuntu2004-arm64
      - name: push
        variant: enterprise-ubuntu2204-64
      - name: crypt_push
        variant: enterprise-ubuntu2204-64
      - name: push
        variant: amazon2-arm64
      - name: push
        variant: ubuntu2204-arm64
      - name: push
        variant: enterprise-rhel-83-s390x
      - name: crypt_push
        variant: enterprise-rhel-83-s390x
      - name: push
        variant: suse15
      - name: push
        variant: debian12
      - name: push
        variant: ubuntu2404
      - name: push
        variant: ubuntu2004-arm64
      - name: push
        variant: ubuntu2204
      - name: push
        variant: enterprise-rhel-8-arm64
      - name: crypt_push
        variant: enterprise-rhel-8-arm64
      - name: push
        variant: enterprise-rhel-8-64-bit
      - name: crypt_push
        variant: enterprise-rhel-8-64-bit
      - name: push
        variant: enterprise-rhel-93-64-bit
      - name: crypt_push
        variant: enterprise-rhel-93-64-bit
      - name: push
        variant: enterprise-rhel-81-ppc64le
      - name: crypt_push
        variant: enterprise-rhel-81-ppc64le
      - name: push
        variant: rhel8
      - name: push
        variant: enterprise-rhel-93-arm64
      - name: crypt_push
        variant: enterprise-rhel-93-arm64
      - name: push
        variant: enterprise-amazon2-arm64
      - name: crypt_push
        variant: enterprise-amazon2-arm64
      - name: push
        variant: macos-arm64
      - name: push
        variant: enterprise-debian12-64
      - name: crypt_push
        variant: enterprise-debian12-64
    name: generate-feed-cloud
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    name: validate-tag-exists
    priority: 200
  - depends_on:
      - name: deploy-jira-tickets
        variant: release
    name: cloud-is-ready
    priority: -1
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-buildinfo-osx-enterprise
        variant: release
      - name: validate-buildinfo-osx-base
        variant: release
      - name: validate-buildinfo-rhel8-enterprise
        variant: release
      - name: validate-buildinfo-rhel8-targeted
        variant: release
      - name: push
        variant: rhel93-arm64
      - name: publish_packages
        variant: rhel93-arm64
      - name: push
        variant: enterprise-ubuntu2204-arm64
      - name: crypt_push
        variant: enterprise-ubuntu2204-arm64
      - name: publish_packages
        variant: enterprise-ubuntu2204-arm64
      - name: push
        variant: enterprise-suse15-64
      - name: crypt_push
        variant: enterprise-suse15-64
      - name: publish_packages
        variant: enterprise-suse15-64
      - name: push
        variant: enterprise-macos-arm64
      - name: crypt_push
        variant: enterprise-macos-arm64
      - name: publish_packages
        variant: enterprise-macos-arm64
      - name: push
        variant: enterprise-ubuntu2404-arm64
      - name: crypt_push
        variant: enterprise-ubuntu2404-arm64
      - name: publish_packages
        variant: enterprise-ubuntu2404-arm64
      - name: push
        variant: generate-tasks-for-version
      - name: publish_packages
        variant: generate-tasks-for-version
      - name: push
        variant: enterprise-macos
      - name: crypt_push
        variant: enterprise-macos
      - name: publish_packages
        variant: enterprise-macos
      - name: push
        variant: rhel-8-arm64
      - name: publish_packages
        variant: rhel-8-arm64
      - name: push
        variant: rhel93
      - name: publish_packages
        variant: rhel93
      - name: push
        variant: macos
      - name: publish_packages
        variant: macos
      - name: push
        variant: windows
      - name: publish_packages
        variant: windows
      - name: push
        variant: enterprise-windows
      - name: crypt_push
        variant: enterprise-windows
      - name: publish_packages
        variant: enterprise-windows
      - name: push
        variant: enterprise-amazon2
      - name: crypt_push
        variant: enterprise-amazon2
      - name: publish_packages
        variant: enterprise-amazon2
      - name: push
        variant: ubuntu2404-arm64
      - name: publish_packages
        variant: ubuntu2404-arm64
      - name: push
        variant: enterprise-ubuntu2404
      - name: crypt_push
        variant: enterprise-ubuntu2404
      - name: publish_packages
        variant: enterprise-ubuntu2404
      - name: push
        variant: amazon2023
      - name: publish_packages
        variant: amazon2023
      - name: push
        variant: amazon2023-arm64
      - name: publish_packages
        variant: amazon2023-arm64
      - name: push
        variant: enterprise-ubuntu2004-64
      - name: crypt_push
        variant: enterprise-ubuntu2004-64
      - name: publish_packages
        variant: enterprise-ubuntu2004-64
      - name: push
        variant: ubuntu2004
      - name: publish_packages
        variant: ubuntu2004
      - name: push
        variant: enterprise-amazon2023
      - name: crypt_push
        variant: enterprise-amazon2023
      - name: publish_packages
        variant: enterprise-amazon2023
      - name: push
        variant: amazon2
      - name: publish_packages
        variant: amazon2
      - name: push
        variant: enterprise-amazon2023-arm64
      - name: crypt_push
        variant: enterprise-amazon2023-arm64
      - name: publish_packages
        variant: enterprise-amazon2023-arm64
      - name: push
        variant: enterprise-ubuntu2004-arm64
      - name: crypt_push
        variant: enterprise-ubuntu2004-arm64
      - name: publish_packages
        variant: enterprise-ubuntu2004-arm64
      - name: push
        variant: enterprise-ubuntu2204-64
      - name: crypt_push
        variant: enterprise-ubuntu2204-64
      - name: publish_packages
        variant: enterprise-ubuntu2204-64
      - name: push
        variant: amazon2-arm64
      - name: publish_packages
        variant: amazon2-arm64
      - name: push
        variant: ubuntu2204-arm64
      - name: publish_packages
        variant: ubuntu2204-arm64
      - name: push
        variant: enterprise-rhel-83-s390x
      - name: crypt_push
        variant: enterprise-rhel-83-s390x
      - name: publish_packages
        variant: enterprise-rhel-83-s390x
      - name: push
        variant: suse15
      - name: publish_packages
        variant: suse15
      - name: push
        variant: debian12
      - name: publish_packages
        variant: debian12
      - name: push
        variant: ubuntu2404
      - name: publish_packages
        variant: ubuntu2404
      - name: push
        variant: ubuntu2004-arm64
      - name: publish_packages
        variant: ubuntu2004-arm64
      - name: push
        variant: ubuntu2204
      - name: publish_packages
        variant: ubuntu2204
      - name: push
        variant: enterprise-rhel-8-arm64
      - name: crypt_push
        variant: enterprise-rhel-8-arm64
      - name: publish_packages
        variant: enterprise-rhel-8-arm64
      - name: push
        variant: enterprise-rhel-8-64-bit
      - name: crypt_push
        variant: enterprise-rhel-8-64-bit
      - name: publish_packages
        variant: enterprise-rhel-8-64-bit
      - name: push
        variant: enterprise-rhel-93-64-bit
      - name: crypt_push
        variant: enterprise-rhel-93-64-bit
      - name: publish_packages
        variant: enterprise-rhel-93-64-bit
      - name: push
        variant: enterprise-rhel-81-ppc64le
      - name: crypt_push
        variant: enterprise-rhel-81-ppc64le
      - name: publish_packages
        variant: enterprise-rhel-81-ppc64le
      - name: push
        variant: rhel8
      - name: publish_packages
        variant: rhel8
      - name: push
        variant: enterprise-rhel-93-arm64
      - name: crypt_push
        variant: enterprise-rhel-93-arm64
      - name: publish_packages
        variant: enterprise-rhel-93-arm64
      - name: push
        variant: enterprise-amazon2-arm64
      - name: crypt_push
        variant: enterprise-amazon2-arm64
      - name: publish_packages
        variant: enterprise-amazon2-arm64
      - name: push
        variant: macos-arm64
      - name: publish_packages
        variant: macos-arm64
      - name: push
        variant: enterprise-debian12-64
      - name: crypt_push
        variant: enterprise-debian12-64
      - name: publish_packages
        variant: enterprise-debian12-64
    name: validate-artifacts
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: push
        variant: macos
    name: validate-buildinfo-osx-base
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: push
        variant: enterprise-macos
    name: validate-buildinfo-osx-enterprise
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: push
        variant: rhel8
    name: validate-buildinfo-rhel8-targeted
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: push
        variant: enterprise-rhel-8-64-bit
    name: validate-buildinfo-rhel8-enterprise
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-artifacts
        variant: release
    name: generate-feed-default
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-artifacts
        variant: release
    name: generate-feed-latest-releases
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-artifacts
        variant: release
    name: generate-feed-full
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-artifacts
        variant: release
    name: generate-feed-download-center
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-artifacts
        variant: release
    name: generate-feed-current
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: generate-feed-full
        variant: release
      - name: generate-feed-current
        variant: release
      - name: generate-feed-latest-releases
        variant: release
      - name: generate-feed-default
        variant: release
      - name: generate-feed-download-center
        variant: release
    name: validate-feeds
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: validate-feeds
        variant: release
    name: post-release-tasks
    priority: 200
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: version_expansions_gen
        variant: generate-tasks-for-version
    name: compile_dist_test
    tags:
      - assigned_to_jira_team_devprod_build
      - bazel_check
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: version_expansions_gen
        variant: generate-tasks-for-version
    name: compile_dist_test_half
    tags:
      - assigned_to_jira_team_devprod_build
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: compile_dist_test
    name: archive_dist_test
    tags:
      - assigned_to_jira_team_devprod_build
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: archive_dist_test
    name: archive_dist_test_debug
    tags:
      - assigned_to_jira_team_devprod_build
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: version_expansions_gen
        variant: generate-tasks-for-version
    name: crypt_create_lib
    tags:
      - assigned_to_jira_team_server_security
      - release_critical
      - incompatible_community
      - requires_compile_variant
      - crypt
      - bazel_check
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: version_expansions_gen
        variant: generate-tasks-for-version
      - name: validate-tag-exists
        variant: release
    name: package
    tags:
      - assigned_to_jira_team_devprod_build
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: package
      - name: cloud-is-ready
        variant: release
    name: publish_packages
    patchable: false
    run_on:
      - ubuntu2204-small
    stepback: false
    tags:
      - assigned_to_jira_team_devprod_build
      - release_critical
      - incompatible_development_variant
      - requires_compile_variant
      - publish
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: package
    name: push
    patchable: false
    run_on:
      - ubuntu2204-small
    stepback: false
    tags:
      - assigned_to_jira_team_devprod_build
      - release_critical
      - incompatible_development_variant
      - requires_compile_variant
      - publish
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    depends_on:
      - name: crypt_create_lib
    name: crypt_push
    patchable: false
    run_on:
      - ubuntu2204-small
    stepback: false
    tags:
      - assigned_to_jira_team_server_security
      - release_critical
      - incompatible_development_variant
      - incompatible_community
      - requires_compile_variant
      - publish_crypt
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    name: version_expansions_gen
    tags:
      - assigned_to_jira_team_devprod_build
      - experimental
  - commands:
      - command: shell.exec
        params:
          working_dir: src
          script: |
            echo "noop2"
    name: version_gen
    run_on:
      - ubuntu2004-medium
    tags:
      - assigned_to_jira_team_devprod_correctness
      - experimental
